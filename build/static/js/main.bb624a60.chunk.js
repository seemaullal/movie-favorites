(this["webpackJsonpmovie-favorites"]=this["webpackJsonpmovie-favorites"]||[]).push([[0],{27:function(e,t,i){},28:function(e,t,i){},37:function(e,t,i){"use strict";i.r(t);var r=i(0),c=i.n(r),a=i(18),o=i.n(a),s=(i(27),i(22)),n=i(7),l=i(11),d=i(3),j=(i(28),i(19)),v=i(20),u=i(1);function b(e){var t=e.title,i=e.posterUrl,r=e.movieId,c=e.disableFavoriting,a=(e.setWhatever,e.addFavoriteMovie),o=e.favorited;return Object(u.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"auto",justifyContent:"center"},children:[Object(u.jsx)("div",{className:"grid-item",children:Object(u.jsx)("img",{alt:"moviePoster",width:300,height:455,src:"N/A"!==i?i:"https://www.popcorn.app/assets/app/images/placeholder-movieimage.png"})}),Object(u.jsx)("div",{className:"grid-item",children:Object(u.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridTemplateRows:"auto"},children:[Object(u.jsx)("p",{style:{justifySelf:"center"},children:t}),Object(u.jsxs)("button",{disabled:c,onClick:function(){return a(r)},className:"favorite-button",children:[Object(u.jsx)(j.a,{style:o?{color:"red",border:"none"}:{color:"transparent",stroke:"black",strokeWidth:"25px"},icon:v.a}),"    Favorite"]})]})})]})}function h(e){var t=e.currentFavorites,i=e.addFavoriteMovie,c=Object(r.useState)([]),a=Object(n.a)(c,2),o=a[0],s=a[1],l=Object(r.useState)(""),d=Object(n.a)(l,2),j=d[0],v=d[1];return Object(r.useEffect)((function(){j&&fetch("https://www.omdbapi.com/?s=".concat(j,"&type=movie&apikey=a3e71b30")).then((function(e){return e.json()})).then((function(e){e.Search&&s(e.Search)}))}),[j]),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("h2",{children:"Movie favorites"}),t.length>=5&&Object(u.jsx)("h3",{children:"You have already favorited 5 movies. You can't favorite anymore :("}),Object(u.jsx)("p",{children:"Search for movies and select your favorites!"}),Object(u.jsx)("label",{htmlFor:"movie-search",className:"margin-right-10",children:"Search for a movie"}),Object(u.jsx)("input",{value:j,onChange:function(e){return v(e.currentTarget.value)},id:"movie-search"}),o.map((function(e){var r=e.imdbID,c=e.Title,a=e.Poster;return Object(u.jsx)(b,{title:c,posterUrl:a,movieId:r,disableFavoriting:t.length>=10,addFavoriteMovie:i,favorited:t.includes(r)},r)}))]})}function f(e){var t=e.favoriteMovies;return Object(u.jsx)("div",{className:"App",children:t.map((function(e){return Object(u.jsx)("div",{children:e})}))})}var m=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),i=t[0],c=t[1];return Object(r.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("favoritedMovies"));e&&c(e)}),[]),Object(r.useEffect)((function(){i.length&&window.localStorage.setItem("favoritedMovies",JSON.stringify(i))}),[i]),Object(u.jsxs)(l.a,{children:[Object(u.jsxs)("ul",{className:"nav",children:[Object(u.jsx)("li",{children:Object(u.jsx)(l.b,{to:"/movies",children:"Search for movies"})}),Object(u.jsx)("li",{children:Object(u.jsx)(l.b,{to:"/favorites",children:"See your favorites"})})]}),Object(u.jsxs)(d.c,{children:[Object(u.jsx)(d.a,{path:"/movies",children:Object(u.jsx)(h,{currentFavorites:i,addFavoriteMovie:function(e){c((function(t){return[].concat(Object(s.a)(t),[e])}))}})}),Object(u.jsx)(d.a,{path:"/favorites",children:Object(u.jsx)(f,{favoriteMovies:i})})]})]})};o.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.bb624a60.chunk.js.map